<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/styling.css">
	<title>文件浏览器 - zhiyinZIP</title>
	<link rel="icon" type="image/png" href="css/images/folder.png">
	<link rel="icon" href="css/images/folder.png" type="image/x-icon" />
</head>
<body>

<div id="main">
	<div id="menu-bar">
		<span>
			<img src="css/images/zhiyinzip.png" width="15px"> <span style="font-size:12px; position: relative; top: -2px;">zhiyinZIP</span>
		</span>
	</div>
	<div id="winrar-options">
		<span class="winrar-btn" style="margin-left:5px;"  onclick="extract()">
			<div style="margin:auto">
				<img src="css/images/extract.png" width="40px">
			</div>
			<div class="winrar-txt">
				解压到
			</div>
		</span>
		<span class="winrar-btn" onclick="error()">
			<div>
				<img src="css/images/view.png" width="40px">
			</div>
			<div class="winrar-txt">
				查看
			</div>
		</span>
	</div>
	<div style="display: flex; flex-direction: row;">
		<span style="position:relative; top:10px; margin-left: 10px; margin-right: 10px;">
			<img src="css/images/up.png" width="15px">
		</span>
		<div class="home d-flex align-items-center">
			<div>
				<img src="css/images/folder.png" width="20px" style="margin-left:4px; margin-top:2px;">
				<span id="system-path">C:\Downloads\jimi.zip</span>
			</div>
		</div>	
	</div>

	<div class="file-container">
		<div class="container">
			<table class="files">
				<thead>
				  <tr>
					<th>名称</th>
					<th>大小</th>
					<th>类型</th>
					<th>修改时间</th>
				  </tr>
				</thead>
				<tbody>
				  <tr onclick="downloadFakePdf()">
					<td>
						<img src="css/images/pdf.png" width="15px"> <span style="position: relative; top:-2px;"> jimi.pdf</span>
					</td>
					<td>100 KB</td>
					<td>Document</td>
					<td>Jun 1, 2023</td>
				  </tr>				  
				  <tr>
				  </tr>
				</tbody>
			  </table>
		</div>
	</div>
</div>

<div id="warningBox">
	<div id="warningHeader">
	  <span>Warning</span>
	</div>
	<div id="warningMessage">
	<img src="css/images/warning.png" width="40px" alt="Warning Icon"><p style="margin-left: 10px;">暂时无法在线查看</p>
	</div>
	<div id="warningFooter">
	  <button id="warningButton" onclick="hide()">OK</button>
	</div>
</div>
</body>

<script>
var rows = document.querySelectorAll('.files tr');
var rowCount = rows.length;

for (var i = 0; i < rows.length; i++) {
  rows[i].addEventListener('click', function(event) {
    event.stopPropagation();

    for (var j = 0; j < rows.length; j++) {
      rows[j].classList.remove('selected');

      if (rows[j].querySelector('td')) {
        rows[j].querySelector('td').style.backgroundColor = '';
      }
    }

    this.classList.add('selected');

    if (this.querySelector('td')) {
      this.querySelector('td').style.backgroundColor = 'inherit';
    }
  });
}

document.addEventListener('click', function() {
  for (var i = 0; i < rows.length; i++) {
    rows[i].classList.remove('selected');

    if (rows[i].querySelector('td')) {
      rows[i].querySelector('td').style.backgroundColor = '';
    }
  }
});
</script>

<script>
	function hide(){
  		document.getElementById("warningBox").style.display = 'none';
	}
	function error(){
		document.getElementById("warningBox").style.display = 'block';
	}

	function extract() {
  const fileUrl = 'https://www.bilibili.com/video/BV1ct4y1n7t9/';

  const link = document.createElement('a');
  link.href = fileUrl;
  link.download = 'zhiyin.zip';

  document.body.appendChild(link);

  link.click();

  document.body.removeChild(link);
}

	function downloadFakePdf(){
  const fileUrl = 'https://www.bilibili.com/video/BV1ct4y1n7t9/';

  const link = document.createElement('a');
  link.href = fileUrl;
  link.download = 'jimi.zip';

  document.body.appendChild(link);

  link.click();

  document.body.removeChild(link);
	}
</script>
</html>
